---
layout: default
title: Golang依赖包管理
author: lijiaocn
createdate: 2017/03/28 13:05:05
changedate: 2017/03/28 15:42:40
categories:
tags: Go
keywords: Go编程,依赖包
description:  Golang依赖包管理，Golang可以自由地引用Git仓库中的代码，这样就带来了依赖包版本管理的问题。

---

* auto-gen TOC:
{:toc}

Golang可以自由地引用Git仓库中的代码，这样就带来了依赖包版本管理的问题。

## Godep使用

Golang本身没有提供依赖包管理的功能，可以通过一个独立的Godep工具进行管理。

[Godep][2]

通过以下命令，可以直接保存项目引用的第三方代码以及版本信息:

	godep save          #保存当前目录下的go文件(不遍历子目录)引用的第三方代码
	godep save ./...    #保存当前目录以及子目录下的go文件引用的第三方代码

在golang 1.5之前的版本，godep将第三方代码和版本信息直接保存的Godeps目录下。

在golang1.5以及以后的版本中，引入了vendor功能，godep将第三方代码保存在vendor目录，版本信息保存在Godeps目录中。

## vendor说明

vendor是1.5中的一个试验特性，在1.6版本中被正式引入。编译时，会优先使用vendor目录中的文件。

在没有vendor之前，项目vendor_test目录结构如下:

	▾ vendor_test/
	  ▾ main/
	      main.go

main.go:

	package main
	
	import (
	    "github.com/lijiaocn/GoPkgs/version"
	)
	
	func main() {
	    version.Show()
	}

编译时使用的是$GOPATH/github.com/lijiaocn/GoPkgs/version中的文件。

使用vendor之后，目录结构如下：

	▾ vendor_test/
	  ▸ Godeps/
	  ▾ main/
	      main.go
	  ▾ vendor/
	    ▾ github.com/
	      ▾ lijiaocn/
	        ▾ GoPkgs/
	          ▸ version/
	            LICENSE

编译时,使用的是vendor/github.com/lijiaocn/GoPkgs/version中的文件。

## 参考

1. [golang vendor directory][1]
2. [Godep][2]
3. [Go 1.5 Vendor Experiment][3]
4. [golang cmd][4]

[1]: "https://golang.org/cmd/go/#hdr-Vendor_Directories"  "golang vendor directory"
[2]: "https://github.com/tools/godep" "godep"
[3]: "https://docs.google.com/document/d/1Bz5-UB7g2uPBdOx-rw5t9MxJwkfpx90cqG9AFL0JAYo/edit" "Go 1.5 Vendor Experiment"
[4]: "https://golang.org/cmd/go/" "golang cmds"
